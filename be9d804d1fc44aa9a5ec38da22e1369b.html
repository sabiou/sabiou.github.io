<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="Introduction à l’injection de dépendances sur Android avec Koin — Partie 1">
    <meta name="description" content="comment gérer l'injection de dépendances avec facilité grâce a la librairie Koin.">
  <meta property="og:description" content="comment gérer l'injection de dépendances avec facilité grâce a la librairie Koin.">
    <meta property="og:type" content="blog">
  <title>Introduction à l’injection de dépendances sur Android avec Koin — Partie 1</title>
  <!-- Favicon -->
    <link rel="shortcut icon" href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F918b0343-fc99-490a-b1af-d7be988e2d2e%2Fcircle-cropped.png?table=collection&id=564e824b-1969-48b1-9b18-509076f748b7">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
  <link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index.html">
      <div class="Navbar__Btn"><span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F918b0343-fc99-490a-b1af-d7be988e2d2e%2Fcircle-cropped.png?table=collection&id=564e824b-1969-48b1-9b18-509076f748b7"></span> <span>Home</span></div>
    </a>
                                    <span class="Navbar__Delim">&centerdot;</span>
    <a href="projects.html">
      <div class="Navbar__Btn"><span>🛠️</span> <span>Projects</span></div>
    </a>
                <span class="Navbar__Delim">&centerdot;</span>
    <a href="me.html">
      <div class="Navbar__Btn"><span>👤</span> <span>About me</span></div>
    </a>
                <span class="Navbar__Delim">&centerdot;</span>
    <a href="resume.html">
      <div class="Navbar__Btn"><span>🗞️</span> <span>Resume</span></div>
    </a>
          </nav>
  <header class="Header">
          <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
        <h1 class="Header__Title">Introduction à l’injection de dépendances sur Android avec Koin — Partie 1</h1>
            <div class="DateTagBar">
                <span class="DateTagBar__Item DateTagBar__Date">Posted on Tue, Apr 9, 2019</span>
                          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--default">
            <a href="tag/Tutoriel.html">Tutoriel</a>
          </span>
                <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--green">
            <a href="tag/Android.html">Android</a>
          </span>
                  </div>
          </header>
      <article id="https://www.notion.so/be9d804d1fc44aa9a5ec38da22e1369b" class="PageRoot"><h2 id="https://www.notion.so/a71a17cec4de4b489b9a22e86b613156" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a71a17cec4de4b489b9a22e86b613156"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Intro</span></span></h2><div id="https://www.notion.so/8e0bd2a9f4164b9bb587c7de1392c16e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Que vous soyez développeur mobile ou web, vous avez certainement entendu parler de ces deux mots :</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"> Injection de dépendances</strong></span><span class="SemanticString"> ou </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">dependency</strong></span><span class="SemanticString"> </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">injection</strong></span><span class="SemanticString"> en anglais.</span></span></p></div><div id="https://www.notion.so/d1d68bc5d76e40c792d3211012c80ea6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Ce tutoriel vous guidera dans la création d’une simple application Android en utilisant le principe d’injection de dépendances avec le framework </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/InsertKoinIO/koin"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Koin</strong></a></span><span class="SemanticString">. C’est totalement pour débutant (comme moi), donc let’s call it Koin 101 ou </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Koin</strong></span><span class="SemanticString"> </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">for</strong></span><span class="SemanticString"> </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">dummies</strong></span><span class="SemanticString"> 😆. So let’s go !</span></span></p></div><div id="https://www.notion.so/2bf9c11494b148f886c0d7d4c5b31402" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/8f5ed8321cc346d7b175d0e25ae2cece" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/8f5ed8321cc346d7b175d0e25ae2cece"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Mais attends, injection de quoi ?</span></span></h3><div id="https://www.notion.so/ef45c96451614f25a8f49e9d5decf89b" class="Embed"><div class="Embed__Content"><div class="Embed__ResponsiveContainer" style="width:768px;padding-bottom:60%"><iframe src="https://giphy.com/embed/10JLZFAZ7AomjK/twitter/iframe" sandbox="allow-scripts allow-popups allow-forms allow-same-origin" allowfullscreen=""></iframe></div></div><p class="Embed__Caption"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/f4a0b656e5ca4f9d8b8dadf72b73bf07" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Eh oui, commençons par une brève introduction sur le principe de l’injection de dépendances et pourquoi vous devez l’appliquer dans vos futurs projets Android.</span></span></p></div><div id="https://www.notion.so/71b4711b76e54ba199fe5e975a78e0fb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/c749f96e380b490a9e5e6b532fc5d837" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/c749f96e380b490a9e5e6b532fc5d837"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">C’est quoi l’injection de dépendances ? 💉</span></span></h3><div id="https://www.notion.so/bcd06477be334be8a906847028b725aa" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/81a7b8ecf1324d06b06e5bb3915bd703" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Toute application métier est composée de deux ou plusieurs classes qui collaborent pour effectuer certaines opérations.</span></span></p></div><div id="https://www.notion.so/b6cfd353f4144592bad6922df2db88db" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Supposons nous avons deux classes </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">A</strong></span><span class="SemanticString"> et </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">B</strong></span><span class="SemanticString">. Traditionnellement, si </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">A</strong></span><span class="SemanticString"> a besoin d’une instance de B pour effectuer une opération, nous créons l’instance de type B dans la classe A et effectuons l’opération requise. On va donc procéder comme suit dans notre classe A :</span></span></p></div><div id="https://www.notion.so/5339c8693cb74c89b913984b18060c82" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/954defbe66a84e46b73cc969417a51d8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">val b = B()</code></span></span></p></div><div id="https://www.notion.so/bf6cb8dfa6cb45a4aa9f75cf7a98187c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/85f2fa00e9d24206b325b30e3512cb11" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">C’est archi simple ouais, mais imaginez une application avec plusieurs classes, vous n’aurez pas que la variable b à instancier, il peut y avoir plusieurs d’autres. Ou peut-être vous aurez besoin de partager la même variable b à travers plusieurs activités. 😕 😕..</span></span></p></div><h3 id="https://www.notion.so/1ac94caac5734246b92547620761ccfc" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1ac94caac5734246b92547620761ccfc"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Bienvenue l’injection de dépendances… ! 👐</span></span></h3><div id="https://www.notion.so/e93adb928e7946499e192d5ae4c38f5e" class="Embed"><div class="Embed__Content"><div class="Embed__ResponsiveContainer" style="width:435px;padding-bottom:57.701149425287355%"><iframe src="https://giphy.com/embed/l0MYC0LajbaPoEADu/twitter/iframe" sandbox="allow-scripts allow-popups allow-forms allow-same-origin" allowfullscreen=""></iframe></div></div><p class="Embed__Caption"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/6e30c88f98da4b229a1d44b331a71f6c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/1e9f812f93c242c2b7db2fa5afe21b9a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Commençons avec cette définition provenant de </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://fr.wikipedia.org/wiki/Injection_de_d%C3%A9pendances">wikipedia</a></span><span class="SemanticString"> :</span></span></p></div><blockquote id="https://www.notion.so/f2274a12a5074c438f4a65f00ab7feb4" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">L’injection de dépendances (dependency injection en anglais) est un mécanisme qui permet d’implémenter le principe de l’inversion de contrôle.Il consiste à créer dynamiquement (injecter) les dépendances entre les différents objets en s’appuyant sur une description (fichier de configuration ou métadonnées) ou de manière programmatique. Ainsi les dépendances entre composants logiciels ne sont plus exprimées dans le code de manière statique mais déterminées dynamiquement à l’exécution. (Wikipédia)</span></span></blockquote><div id="https://www.notion.so/3cb27c4191614b7eaf28832e56fa0437" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/98d2af0fd0ae46628590f978acf89cac" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">En d’autres termes, avec l’injection de dépendance, les entités se voient attribuer leurs dépendances au moment de l’exécution par une entité externe. (schéma).</span></span></p></div><div id="https://www.notion.so/d0a45f3663204e338a32c5f484eb88cd" class="Image Image--Normal"><figure><a href="https://miro.medium.com/max/518/1*DM-4_w232TdfGGltj14ieg.png?width=480"><img src="https://miro.medium.com/max/518/1*DM-4_w232TdfGGltj14ieg.png?width=480" style="width:480px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/c23d19da374447c5a08724fb21d4450f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/9176eff44fc948c3b755addc53c2f13d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9176eff44fc948c3b755addc53c2f13d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">💪 A la découverte du framework Koin</span></span></h3><div id="https://www.notion.so/baae357e054b4e93a495c326c38a301e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Koin est l’un des frameworks populaires d’injection de dépendances en Kotlin. D’après Arnaud Guilani, project lead de Koin :</span></span></p></div><div id="https://www.notion.so/a8b00d4928354c108074302db62c4bcf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">“Koin est un framework d’injection de dépendances pour Kotlin &amp; Android, qui se veut pragmatique. Il permet de décrire les composants à assembler via un DSL intuitif.”</em></span></span></p></div><h3 id="https://www.notion.so/9e4df0cef82244fa9deac3e14d504a93" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9e4df0cef82244fa9deac3e14d504a93"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1. Configuration dans un projet Android 🔨</span></span></h3><div id="https://www.notion.so/0140a192ede44eb182ec18e6bb2979eb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/ff9177fc56f14ad590440fd3414f81d3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Pour confgurer Koin dans votre projet Android, il suffit d’ajouter les dependencies gradle ci-dessous:</span></span></p></div><div id="https://www.notion.so/69497059ad5347518581dad026eab64f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">build.gradle (app)</strong></span></span></p></div><pre id="https://www.notion.so/7896fc50533e40d183e9e0255015053b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>repositories {
  jcenter()    
}

dependencies {
    // Koin for Android
    compile &#x27;org.koin:koin-android:2.0.0-rc-2&#x27;
}</span></span></span></code></pre><div id="https://www.notion.so/a44ac38230b448809abd6c91ef0ab128" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Faites un sync avant de charger les modifications effectués.</span></span></p></div><div id="https://www.notion.so/bdff3a36d2c541e48e79af3ec7d03475" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Notre projet contient les composants suivants:</span></span></p></div><div id="https://www.notion.so/03a97085d578409dbf9d63eb12f8aafe" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/ab7f6c4c285243b6918c96d7280f5b6d" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">MainActivity.kt</strong></span><span class="SemanticString"> : qui est notre activité principale</span></span></li></ol><pre id="https://www.notion.so/9bc0116d17884834904983d2886baadb" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
    }
}</span></span></span></code></pre><div id="https://www.notion.so/686fb3081de341bdb861f6b72d7419df" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/4db5b811283b453589471428d0edd2eb" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Salut.kt : </strong></span><span class="SemanticString">Une simple classe disposant d’une variable de type String qui renvoie un message.</span></span></li></ol><pre id="https://www.notion.so/242f5f1c43e24e9bbf2274bdc75b6240" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>class Salut {
    val message = &quot;Salut à tous !&quot;
}</span></span></span></code></pre><div id="https://www.notion.so/3d4175c3618342c18b6d3853dae5d689" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/c39a8a88c69d48129248163fb6cc4e50" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">🎉 Grace à la magie de Koin, nous allons voir comment injecter </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">message </strong></span><span class="SemanticString">dans notre MainActivity sans avoir besoin de l’instancier. Pour ce faire, nous aurons besoin d’un troisième composant, le composant </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://insert-koin.io/docs/2.0/quick-references/modules-definitions/">module,</a></span><span class="SemanticString"> offert par notre librairie Koin.</span></span></p></div><div id="https://www.notion.so/212d2021280042dbbeff8f4585b3b7c5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">On va le renommer </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">moduleSalut</strong></span><span class="SemanticString"> (par convention, choisissez un nom de module du genre: </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">moduleNomDelaClasse.kt ou module_nomdelaclasse.kt</strong></span></span></p></div><div id="https://www.notion.so/99b21e090c954f6e8bd7aeab2dcc8826" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Notre </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">moduleSalut</strong></span><span class="SemanticString"> sera:</span></span></p></div><pre id="https://www.notion.so/c28ff9494d054f96b757da35ce965534" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>val moduleSalut = module {
    // provides single instance of Salut
    single { Salut() }
}</span></span></span></code></pre><div id="https://www.notion.so/c8baa73e52cc4af9af0431d2aa3cf671" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Le mot clé </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">single </strong></span><span class="SemanticString">signifie que nous déclarons au module de fournir qu’une seule instanciation de Salut. (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://fr.wikipedia.org/wiki/Singleton_(patron_de_conception)">Pattern singleton</a></span><span class="SemanticString">). Et c’est fait, notre objet est prêt pour l’injection.</span></span></p></div><div id="https://www.notion.so/afeed435a7d04226a669bcb1a1aefb77" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Allons injecter maintenant notre variable dans MainActivity, en commençant par la déclarer:</span></span></p></div><div id="https://www.notion.so/921c0f1800214c35b98b6f0db9f07002" class="Image Image--Normal"><figure><a href="https://miro.medium.com/max/683/1*moqI29AxW1oBGuSzbMeutQ.png?width=480"><img src="https://miro.medium.com/max/683/1*moqI29AxW1oBGuSzbMeutQ.png?width=480" style="width:480px"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">notre module se charge d’injecter l’instance salut à toutes les entités dépendantes. (Activité, Fragment)</span></span></figcaption></figure></div><div id="https://www.notion.so/2cefe44db30d47b3a11c55a79eacb811" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/16a7c38421374cc9947d53a07d340619" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Ceci ce traduit par la déclaration suivante :</span></span></p></div><pre id="https://www.notion.so/6c076a8541324840983fa21bc66ac428" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>val: salut: Salut by inject()</span></span></span></code></pre><div id="https://www.notion.so/d1399a2403634d2cae171c249a8d8ad1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Et c’est tout 🌠!! notre MainActivity dispose maintenant de l’instance </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">salut </strong></span><span class="SemanticString">dont elle a besoin.</span></span></p></div><div id="https://www.notion.so/97124c8c5aaf4cc5a9f6460616913504" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/2d9fddfc658d4aac804e428b4de67dc7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Notez bien les deux mots en gras.. En écrivant cette ligne, on récupère l’instance salut dans MainActivity.</span></span></p></div><div id="https://www.notion.so/b70b977d185649f5bbe7eae2b30a1148" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Si on attribue la valeur de </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">message</em></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"> </strong></em></span><span class="SemanticString">a notre </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">textview</em></span><span class="SemanticString">, on aura :</span></span></p></div><pre id="https://www.notion.so/7a597d4aaefa4df5964be4e9d0b1eb89" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>class MainActivity : AppCompatActivity() {

    val salut: Salut by inject()

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        textView.text = salut.message
    }
}</span></span></span></code></pre><div id="https://www.notion.so/5883657d6c0a45baaeeddfd20f66fec0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">⚠️ Dernière chose !!!</span></span></p></div><div id="https://www.notion.so/48034237f45d4f71a29c53467d1eae18" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Avant de lancer notre application, nous allons démarrer Koin en appelant la fonction </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">startKoin()</strong></span><span class="SemanticString"> depuis notre classe KoinApplication.</span></span></p></div><pre id="https://www.notion.so/9a49d1127aad4bfdb8faff6ad10d3281" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>class KoinApplication: Application() {

    override fun onCreate() {
        super.onCreate()

        // start koin
        startKoin {
            modules(moduleSalut)
        }
    }
}</span></span></span></code></pre><div id="https://www.notion.so/e3e24138028c483b85aea236050ed702" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">📱 Exécutez l’application et kiffez le résultat. 🌠 🔥</span></span></p></div><div id="https://www.notion.so/37a50025055f497aa9493360ede959c1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Dans le prochain article, nous verrons comment utiliser Koin pour une application de type MVVM.</strong></span></span></p></div><div id="https://www.notion.so/8c982b81cfd9447d8aeee9a4ab53b84a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/5b26c55ec680406cb4712908047ce946" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Retrouvez le code complet ici</span></span></p></div><div id="https://www.notion.so/9d55f24199ea4c02a95ed25813948f25" class="Bookmark"><a href="https://github.com/sabiou/KoinStarter/tree/master"><h5 class="Bookmark__Title">sabiou/KoinStarter</h5><p class="Bookmark__Desc">Source code for my medium blog post https://bit.ly/2KmkzHh - sabiou/KoinStarter</p><p class="Bookmark__Link">https://github.com/sabiou/KoinStarter/tree/master</p></a></div><div id="https://www.notion.so/6bd736a49ff54f70bc1f36e934f2a250" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/9d3a6c24d84b430da77dc717fa39697e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/9d3a6c24d84b430da77dc717fa39697e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Et puis quoi ? c’est tout ? 😠</strong></span></span></h2><div id="https://www.notion.so/a7c3a77ab1874a2bb94c2159770bb598" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Bien sur que NON ! ceci est juste une très brève introduction à l’injection de dépendances avec le framework Koin. Je prépare un prochain article sur l’utilisation de Koin dans une application de type MVVM.</span></span></p></div><div id="https://www.notion.so/12960b5546b74702ba8e300cb15868d4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Entre temps, voici quelques ressources pour approfondir vos connaissances sur l’injection des dépendances avec Koin et aussi d’autres frameworks populaires tel que </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://google.github.io/dagger/">Dagger 2</a></span><span class="SemanticString"> (Google) ou encore </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://kodein.org/di/">Kodein</a></span><span class="SemanticString">.</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/f10894a7c68444ef94a709f2d7ac670f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Better DI on Android</strong></span><span class="SemanticString"> (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://proandroiddev.com/better-dependency-injection-for-android-567b93353ad">https://proandroiddev.com/better-dependency-injection-for-android-567b93353ad</a></span><span class="SemanticString">)</span></span></li><li id="https://www.notion.so/80db0cb8ecdf4970be682b35c3cd08de" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Android leaks podcast | Épisode 42 — L’injection de poireaux avec Koin</strong></span><span class="SemanticString"> (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://androidleakspodcast.com/2018/08/05/episode-42-linjection-de-poireaux-avec-koin/">https://androidleakspodcast.com/2018/08/05/episode-42-linjection-de-poireaux-avec-koin/</a></span><span class="SemanticString">)</span></span></li><li id="https://www.notion.so/e20f25eed9b747d7a36052d9ee1dcc0c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">News from the trenches — What’s next for Koin?</strong></span><span class="SemanticString"> (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://medium.com/koin-developers/news-from-the-trenches-whats-next-for-koin-994791d572d5">https://medium.com/koin-developers/news-from-the-trenches-whats-next-for-koin-994791d572d5</a></span><span class="SemanticString">)</span></span></li><li id="https://www.notion.so/07374562e0a446d397a3312dfcaac9c5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Simplify your Android development with Koin</strong></span><span class="SemanticString"> (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.youtube.com/watch?v=KzQbJFVjr9w&amp;t=1s">https://www.youtube.com/watch?v=KzQbJFVjr9w&amp;t=1s</a></span><span class="SemanticString">)</span></span></li><li id="https://www.notion.so/79d88e7e4a6d4d17a89c1f294aa31e15" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Dependency Injection with Dagger 2 </strong></span><span class="SemanticString">(</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://guides.codepath.com/android/dependency-injection-with-dagger-2">https://guides.codepath.com/android/dependency-injection-with-dagger-2</a></span><span class="SemanticString">)</span></span></li><li id="https://www.notion.so/e6e5a1e1db1f496b907e352a5bcd6656" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Dagger 2 on Android: The Official Guidelines You Should Be Following</strong></span><span class="SemanticString"> (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://proandroiddev.com/dagger-2-on-android-the-official-guidelines-you-should-be-following-2607fd6c002e">https://proandroiddev.com/dagger-2-on-android-the-official-guidelines-you-should-be-following-2607fd6c002e</a></span><span class="SemanticString">)</span></span></li><li id="https://www.notion.so/b3a476ddb7344da6a68b8c84bc95505f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Getting started with Kodein DI </strong></span><span class="SemanticString">(</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://kodein.org/Kodein-DI/index.html?latest/getting-started">http://kodein.org/Kodein-DI/index.html?latest/getting-started</a></span><span class="SemanticString">)</span></span></li></ul></article>  <footer class="Footer">
        <div>&copy; Farouk Sabiou 2019</div>
        <div>&centerdot;</div>
        <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
            rel="noopener noreferrer">Notablog</a>.
        </div>
    </footer>
</body>

</html>